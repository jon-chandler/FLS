!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";function o(){window.addEventListener("load",function(){setTimeout(function(){V.classList.add("ready");var e=document.querySelector(".fb-button");e&&(e.classList.add("show"),e.addEventListener("click",function(t){t.preventDefault(),(0,j.sendFeedback)(e)})),(0,U.loadYoutubeApi)();var t=document.querySelector(".site-container");V.classList.contains("show-scroll-indicator")&&I(t)},500)})}function r(){V.classList.remove("ready")}function a(){V.classList.add("ready")}function i(e,t){if(e){var n=e.querySelector(".roundabout-fill");n.style.stroke=t,n.classList.add("paint")}}function c(){0!=window.scrollY?z.classList.add("shadow"):z.classList.remove("shadow")}function l(e){e.addEventListener("click",function(t){"_blank"!=e.parentElement.target&&(t.target.classList.add("show-loader"),t.target.blur())})}function s(e){if(e){"Log in"===e.textContent&&(e.innerHTML="Sign in"),e.hasAttribute("title")||e.setAttribute("title",e.textContent.replace(/[\n\r]/g,"").trim()),e.classList.add("data-call-btn");var t=document.createElement("div");t.className="button-loader",e.appendChild(t)}}function u(e){if(e){var t=e.target,n=t.parentElement,o=document.querySelector(".location-output");J.classList.add("scroll-lock");var r=function(){(0,H.launchOverlay)("Error finding address, please enter manually",!0),E({type:"Location",ev:"Lookup fail",val:"location service disabled"}),document.body.classList.remove("waiting-for-content"),J.classList.remove("scroll-lock")},a=function(e){fetch("https://postcodes.io/postcodes?lat="+e.coords.latitude+"&lon="+e.coords.longitude).then(function(e){return e.json()}).then(function(e){document.body.classList.remove("waiting-for-content"),J.classList.remove("scroll-lock");try{o.value=e.result[0].outcode,o.classList.add("has-content"),n.classList.add("has-data"),E({type:"Location",ev:"Lookup success",val:o.value})}catch(e){r()}})},i=function(e){r()};try{navigator.geolocation?navigator.geolocation.getCurrentPosition(a,i,{enableHighAccuracy:!0}):r()}catch(e){r()}}}function d(e){e&&(window.location=e.target.dataset.link)}function m(e){if(e){e.querySelector(".points-text").textContent=e.dataset.points}}function f(e){if(e){var t=0,n=e.dataset.target,o=n<500?3:.25,r=n,a=0;e.classList.add("animated-text"),$++;var i=e.dataset.slowspeed,c=function c(){if(++t%o==0){if(!(a<=n))return e.classList.remove("animated-text"),cancelAnimationFrame(r),e.innerHTML=v(n),void(++ee===$&&l());i?a++:a+=o<1?Math.round(300*Math.random(500)):Math.round(15*Math.random(15)),e.innerHTML=a}requestAnimationFrame(c)};e.innerHTML=a,requestAnimationFrame(c);var l=function(){var e=document.querySelector(".calc-sum");e&&e.classList.add("show")}}}function v(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function h(e){if(e){var t=Y.clientHeight,n=z.clientHeight;document.addEventListener("scroll",function(o){window.pageYOffset>=V.clientHeight-t-window.innerHeight?(e.classList.add("clamped"),e.style.bottom=t-n+"px"):(e.classList.remove("clamped"),e.style.bottom=0)})}}function y(){Y.classList.toggle("collapsed"),setTimeout(function(){h(W);var e=window.scrollY-10;window.scrollTo({top:e,left:0})},350)}function g(){K&&X&&(window.pageYOffset>80?(K.classList.add("clamped"),X.style.marginTop="92px"):(K.classList.remove("clamped"),X.style.marginTop="0px"))}function p(e){e.addEventListener("click",function(t){var n=e.dataset.deletekey;t.preventDefault(),confirm("delete all options for journey "+n+"?")&&(window.location.href="?deleteId="+n)})}function b(e){e&&(e.parentElement.style.display="none")}function S(e){return void 0}function w(e){var t=e.dataset.link;t&&e.addEventListener("click",function(){window.location=t})}function L(e){if(e){e.querySelector(".value").innerHTML||e.remove()}}function E(e){void 0!==window.dataLayer&&window.gtag("event",e.type,{category:e.ev,event_label:e.val})}function A(){var e=document.querySelector(".filters").clientHeight;window.scroll({top:e,behavior:"smooth"}),G.scroll({top:e,behavior:"smooth"})}function k(e){var t=document.querySelector(".data-feedback"),n="error"===e?"has-error":"success";t.classList.add("show"),t.classList.add(n),setTimeout(function(){t.classList.remove("show")},1500)}function q(e,t){var n=t||"delete?";return confirm(n)&&(window.location=e),!1}function T(e){e&&e.classList.remove("show-loader")}function x(e){if(e){var t=e.querySelectorAll(".top-level-result"),n=e.querySelectorAll(".sub-level");t.forEach(function(e,t){e.addEventListener("click",function(e){e.target.classList.toggle("open"),n.forEach(function(e,t){e.classList.toggle("hidden")})})})}}function C(e){if(e){var t=e.querySelectorAll(".option"),n=document.querySelectorAll(".breakdown-tab");t.forEach(function(e,t){e.addEventListener("click",function(r){o(),e.classList.add("visible"),n[t].classList.add("visible"),window.location.hash=t,E({type:"Breakdown tab",ev:"Display content",val:e.getAttribute("title")})})});var o=function(){t.forEach(function(e){e.classList.remove("visible")}),n.forEach(function(e){e.classList.remove("visible")})};if(window.location.hash){var r=window.location.hash.replace("#","");r<=t.length&&(o(),n[r].classList.add("visible"),t[r].classList.add("visible"))}}}function O(e){if(e){var t=e.querySelectorAll(".range-label"),n=t[0].dataset.val?t[0].dataset.val:0,o=e.dataset.maxVal,r=e.querySelectorAll(".range-marker"),a=window.getComputedStyle(r[0]).height,i=a.replace("px",""),c=0,l=[],s=!1;r.forEach(function(e,t){var n=e.dataset.range,o=n.split(" - ");l[t]=o}),l.forEach(function(e,t){te(n,parseInt(e[0]),parseInt(e[1]))?c=i*t:parseInt(n)>parseInt(o)&&(c=i*t)}),t.forEach(function(e,t){e.style.transform="translateY("+c+"px)"});new IntersectionObserver(function(e,o){e[0].intersectionRatio>0&&(t.forEach(function(e,t){var o=500+2*t*50;s||(e.style.transform="translateY(0px)"),setTimeout(function(){e.classList.add("animate"),e.style.transform="translateY("+c+"px)",e.innerHTML=n},o)}),s=!0)}).observe(e)}}function _(e,t,n){if(e){e.innerHTML='<div class="inline-score">'+n+"</div>",setTimeout(function(){e.querySelector(".inline-score").classList.add("show")},100)}}function B(e){if(e){var t=e.querySelectorAll(".bar"),n=!1;t.forEach(function(e,t){var n=e.dataset.target;e.style.height=n+"%"});new IntersectionObserver(function(e,o){e[0].intersectionRatio>0&&(t.forEach(function(e,t){n||(e.style.height=0);var o=e.dataset.target;setTimeout(function(){e.classList.add("animate"),e.style.height=o+"%"},300*t)}),n=!0)}).observe(e)}}function I(e){var t=document.querySelector(".scroll-anim");e.getBoundingClientRect().bottom>(window.innerHeight||document.documentElement.clientHeight)+Y.clientHeight&&(t.classList.add("show"),setTimeout(function(){n()},5e3),document.addEventListener("scroll",function(e){n()}));var n=function e(){t.classList.remove("show"),document.removeEventListener("scroll",e,!0)}}function M(){E({type:"Journey",ev:"Search",val:"Zero results"})}function N(e){var t=e.parentElement,n=t.querySelectorAll(".suitability-graphic");e.classList.toggle("active"),n.forEach(function(e){e.classList.toggle("visible")})}function P(e){if(e){e.querySelector(".sub-menu").classList.add("visible")}}function D(e,t,n){return e<t?t:e>n?n:e}function F(e){e&&(e.classList.add("show"),e.innerHTML=e.innerHTML.replace("Messages","Comments"))}function R(e){if(e){var t=e.target,n=void 0;t.classList.contains("value")?n=t:t.classList.contains("key")&&(n=t.nextElementSibling),n.classList.toggle("active");e.target.parentNode.nextElementSibling.querySelector(".explainer-content").classList.toggle("show")}}Object.defineProperty(t,"__esModule",{value:!0}),t.reveal=o,t.showLoader=r,t.hideLoader=a,t.drawRoundabout=i,t.toggleShadow=c,t.showDataLoaderOnClick=l,t.injectKarfuButtonOpts=s,t.getPostcodeFromLocation=u,t.goBack=d,t.animateSVGText=m,t.animateToValue=f,t.setSummaryButtonPos=h,t.toggleFooter=y,t.clampFilterSort=g,t.deleteJourney=p,t.hideFromSummary=b,t.pushFooterToContentHeight=S,t.getActionBtnLink=w,t.removeEmptyAccordionRows=L,t.trackEvent=E,t.skipForm=A,t.showFeedback=k,t.confirmDelete=q,t.removeButtonLoaders=T,t.tableToggle=x,t.toggleBreakDownOpts=C,t.setEnvironmentRange=O,t.replaceInlineLoaders=_,t.setPollutantChartRange=B,t.showScrollIndicator=I,t.trackNoResults=M,t.toggleChartDisplay=N,t.showDropDownNav=P,t.withinRange=D,t.updateCommentMsg=F,t.expandTable=R;var j=(n(2),n(3)),H=n(1),U=n(9),V=document.getElementsByTagName("body")[0],G=(document.querySelector(".site-logo"),document.querySelector(".site-container")),J=document.documentElement,Y=document.querySelector(".footer"),z=(document.getElementsByTagName("main")[0],document.getElementsByTagName("header")[0]),W=document.querySelector(".summary-next-prev-buttons"),K=document.querySelector(".filter-sort"),X=document.querySelector(".final-results"),Q=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Z=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),$=0,ee=0;h(W),window.addEventListener("resize",function(e){W&&document.documentElement.clientWidth>700&&(W.classList.remove("clamped"),W.style.bottom=0)});var te=function(e,t,n){return e>=t&&e<=n},ne=document.querySelector(".print-pdf-button");ne&&(Z&&Q&&ne.remove(),ne.addEventListener("click",function(){var e=document.querySelector('meta[name="description"]'),t=null!=e?e.content:document.title.replace("Karfu - ","");try{document.execCommand("print",!1,null),E({type:"Export",ev:"Content exported",val:t})}catch(e){print()}}))},function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(0,l.isBot)()){s.classList.add("show");var o=s.querySelector(".contents"),a=s.querySelector(".error-msg");o.innerHTML=decodeURIComponent(e),a.classList.remove("show"),o.classList.remove("error"),t&&(a.classList.add("show"),o.classList.add("error"),(0,c.trackEvent)({type:"Error",ev:"Display error ${page}",val:e})),localStorage.setItem(m,n),d.scroll({top:0,behavior:"smooth"}),u.classList.add("scroll-lock"),document.addEventListener("keydown",function(e){e=e||window.event,27==e.keyCode&&r(),document.removeEventListener("keydown",r,!0)})}}function r(){u.classList.remove("scroll-lock"),s.classList.remove("show"),(0,i.setLocalStorageObj)(m,f)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!(0,i.checkLocalStorageObj)(m,n)&&e&&o(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.launchOverlay=o,t.closeOverlay=r,t.launchOverlayOnLoad=a;var i=n(5),c=n(0),l=n(6),s=document.querySelector(".overlay-content"),u=document.documentElement,d=document.querySelector(".site-container"),m="karfu-page-track",f=window.location.href;s.querySelector(".close").addEventListener("click",r),window.launchOverlay=o},function(e,t,n){"use strict";function o(e,t,n,o,r,i,c){var l="https://www.google.com/maps/dir/Current+Location/"+o;return'<div class="seller-details">\n\t\t\t\t\t<h1>Contact the seller</h1>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class="label">NAME</td>\n\t\t\t\t\t\t\t\t<td class="dyn-val">'+e+'</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class="label map"><a href="'+l+'" target="_blank" class="map">ADDRESS</a></td>\n\t\t\t\t\t\t\t\t<td class="dyn-val"><a href="'+l+'" target="_blank" class="map">'+o+'</a></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr><td colspan="2" class="btn-holder padd-top"><a href="tel:'+n+'"><button class="button-green-pale button-phone" title="Call the dealership">CALL</button></a></td></tr>\n\t\t\t\t\t\t\t<tr><td colspan="2" class="btn-holder"><button class="button-yellow button-chat launch-overlay" title="Chat with the dealership" data-info="INFO">CHAT</button></td></tr>\n\t\t\t\t\t\t\t<tr><td colspan="2" class="btn-holder"><a href="mailto:general@karfu.com?subject=Information request for vehicle: '+c+"&body=Additional data request for: "+r+" \n\t\t\t\t\t\t------------------------------ \n\t\t\t\t\t\tKARFU url: "+i+" \n\t\t\t\t\t\t------------------------------ \n\t\t\t\t\t\tKARFU ref: "+c+'"><button class="button-blue button-email" title="View further details">EMAIL</button></a></td></tr>\n\t\t\t\t\t\t\t<tr><td colspan="2" class="btn-holder"><a href="'+t+'" target="_blank"><button class="button-green button-website" title="Visit dealer website">WEBSITE</button></a></td></tr>\n\t\t\t\t\t\t\t'+a+"\n\t\t\t\t\t\t</table>\n\t\t\t\t\t<div>"}function r(e,t,n,o,r){var i=r?o+" - "+r:""+o,c=void 0;return c=t===n?'<tr><td colspan="2" class="btn-holder"><a href="'+n+'" target="_blank"><button class="button-green button-website" title="Visit product page"><span class="text-wrap">'+i+"</span></button></a></td></tr>":'<tr><td colspan="2" class="btn-holder"><a href="'+t+'" target="_blank"><button class="button-green button-website alpha-3-4" title="Visit dealer website"><span class="text-wrap">'+e+'</span></button></a></td></tr>\n\t\t\t\t<tr><td colspan="2" class="btn-holder"><a href="'+n+'" target="_blank"><button class="button-green button-website" title="Visit product page"><span class="text-wrap">'+i+"</span></button></a></td></tr>",'<div class="seller-details">\n\t\t\t\t\t<h1>Manufacturer</h1>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class="label">NAME</td>\n\t\t\t\t\t\t\t\t<td class="dyn-val">'+e+"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t"+c+"\n\t\t\t\t\t\t\t"+a+"\n\t\t\t\t\t\t</table>\n\t\t\t\t\t<div>"}Object.defineProperty(t,"__esModule",{value:!0}),t.renderSellerDetails=o,t.renderAlternativeSellerDetails=r;var a='<tr>\n\t\t\t\t\t\t\t<td colspan="2" class="feedback-option"><a href="/proto/search-complete" title="Feedback"><button class="button-outline button-feedback" title="Feedback">FEEDBACK</button></a></td>\n\t\t\t\t\t\t</tr>'},function(e,t,n){"use strict";function o(e,t,n){(0,l.showLoader)(),r(f+"/"+apiRoute,t,function(t){var o=void 0;try{o=JSON.parse(t.responseText)}catch(e){o=null}return o?o.data.KarfuError?void(0,m.launchOverlay)("Failed to load data",!0):void(o.data&&n(e,o.data)):void(0,m.launchOverlay)("Invalid response",!0)})}function r(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(n(o),(0,l.reveal)())};var r={questions:JSON.parse(t)};o.open("POST",e),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(r))}function a(e){var t=document.querySelector(".fb-comments");if(t&&e){var n=document.querySelector(".karfu-feedback-comment");if(n.classList.contains("visible")){(0,l.showLoader)();var o=window.location.pathname,r=t.value,a="/feedback/?currentPage="+o+"&prevPage="+previousPage+"&comment="+r,i=new XMLHttpRequest;i.open("GET",a),i.send(),e.textContent="SUBMITTING",(0,l.trackEvent)({type:"Feedback",ev:"User feedback",val:"page: "+o+" - comment: "+r}),i.onreadystatechange=function(){4===i.readyState&&((0,m.launchOverlay)("Thank you for your feedback",!1),v.classList.add("ready"),e.textContent="FEEDBACK",c())}}else setTimeout(function(){t.focus()},1),n.classList.add("visible"),e.textContent="SUBMIT FEEDBACK";var c=function(){t.value="",n.classList.remove("visible")};document.addEventListener("keydown",function(e){e=e||window.event,27==e.keyCode&&c(),document.removeEventListener("keydown",c,!0)})}}function i(){var e=Array.from(document.getElementsByClassName("suitability-score")),t=document.getElementsByName("sort")[0],n=e.map(function(e){var t=e.dataset.vehicleId,n=e.dataset.mobChoice,o=e.dataset.mobType;return void 0!==t&&NaN!==parseInt(t)&&void 0!==n&&void 0!==o?[parseInt(t),n,o]:null});fetch("/api/suitabilityscore/build",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(n){if(void 0===n.success||!0!==n.success||void 0===n.status)throw"Invalid response";switch(n.status){case"COMPLETE":if(void 0!==n.scores){n.scores.forEach(function(t){e.forEach(function(e){if((void 0===e.dataset.score||NaN===parseInt(e.dataset.score))&&parseInt(e.dataset.vehicleId)===t[0]&&e.dataset.mobChoice===t[1]&&e.dataset.mobType===t[2]){var n=e.querySelector(".score");null!==n&&(0,l.replaceInlineLoaders)(n,null,t[3]+"%")}})})}t&&(0,s.addSortOptions)(t,["Score HIGH","Score LOW"]);break;case"INCOMPLETE":setTimeout(i(),5e3)}}).catch(function(e){})}function c(e){if(e){var t=e.target,n={},o="/compare/your_results";t.dataset.hasOwnProperty("sessionStartUrl")&&(n.sessionStartUrl=t.dataset.sessionStartUrl),n.sessionStartUrl&&t.dataset.hasOwnProperty("journeyType")&&"full"!=t.dataset.journeyType&&(o=n.sessionStartUrl);fetch("/api/process-results/process",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){if(void 0===e.success||!0!==e.success)throw"Invalid response";window.location.href=o}).catch(function(e){(0,u.hideLoaderContent)(),(0,l.hideLoader)(),(0,l.removeButtonLoaders)(t),(0,d.errorHandler)("e5")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.callAPI=o,t.post=r,t.sendFeedback=a,t.generateScores=i,t.processResults=c;var l=n(0),s=n(4),u=n(7),d=n(8),m=n(1),f=window.APIUrl||"https://api.karfu.com",v=document.getElementsByTagName("body")[0];getVehicleMatchCount=window.getVehicleMatchCount=function(e,t){e.innerHMTL=e.dataset.target=t.count}},function(e,t,n){"use strict";function o(e){if("select-all"!=e.srcElement.id){var t=document.getElementById("select-all");t&&t.previousElementSibling.classList.remove("active")}}function r(e){if(e){var t=e.dataset.pagea,n=e.dataset.pageb,o=(e.dataset.pageaclass,e.dataset.pagebclass,e.dataset.inJourney),r=e.classList.contains("is-search"),a=e.classList.contains("is-explore"),i=new URL(t,location),c=new URL(n,location),l=new URL(o,location),s=i.searchParams.get("view"),u=c.searchParams.get("view"),d=l.searchParams.get("view"),m=void 0,f=void 0;if(r){var v=i.searchParams.get("searchType");m=v;f=c.searchParams.get("searchType")}else f=n.replace("./",""),m=t.replace("./","");var h=e.querySelectorAll(".option"),y=e.querySelector(".input-toggle"),g=e.querySelector(".input-toggle").value;r||a?g===f&&O(e,h):g!==f&&d!==u||O(e,h),y.addEventListener("change",function(){window.location=(r||a)&&g===m||!r&&!a&&(d===s||null===d)?n+o:t+o,h.forEach(function(e){e.classList.toggle("option__selected")})})}}function a(e){e.addEventListener("change",function(e){o(e);var t=e.target.previousElementSibling,n=e.target.nextElementSibling;e.target.checked?(t.classList.add("active"),n&&n.classList.add("active")):(t.classList.add("hide"),t.classList.remove("active"),n&&n.classList.remove("active")),setTimeout(function(){t.classList.remove("hide")},150);var r=document.querySelector(".trump");r&&r.classList.contains("active")&&(r.classList.remove("active"),r.nextElementSibling.checked=!1)})}function i(e){e.addEventListener("click",function(e){_(),e.target.dataset.isActive?(e.target.previousElementSibling.classList.remove("active"),e.target.checked=!1,delete e.target.dataset.isActive):(e.target.previousElementSibling.classList.add("active"),e.target.dataset.isActive=!0,e.target.checked=!0)})}function c(e){if(e){var t=e.previousElementSibling,n=!0,o=void 0;e.dataset.option?(o=e.dataset.option.split(","),t.innerHTML=o[e.value-1],n=!1):t.innerHTML=e.value,e.addEventListener("input",function(){t.innerHTML=n?e.value:o[e.value-1]})}}function l(e){if(e){var t=(e.querySelector(".range-val"),e.querySelectorAll("input[type=range]")),n=e.querySelector(".min"),o=e.querySelector(".max"),r=e.classList.contains("currency")?"£":"",a=function(){var e=parseFloat(t[0].value),a=parseFloat(t[1].value),i=void 0;e>a&&(i=a,a=e,e=i),n.value=""+r+e,o.value=""+r+a},i=function(){t[0].value=n.value.replace("£",""),t[1].value=o.value.replace("£","")};n.addEventListener("input",i),o.addEventListener("input",i),t[0].addEventListener("input",a),t[1].addEventListener("input",a)}}function s(e){if(e){var t=document.querySelector(".filter-output"),n=new URLSearchParams(window.location.search),o=n.get("search_paths[]");e.addEventListener("change",function(){t.innerHTML=e.value.split("/").pop(),t.classList.add("open")}),o&&(t.classList.add("open"),t.innerHTML=o.split("/").pop())}}function u(e){function t(){n.querySelectorAll(".rankable").forEach(function(e,t){var n=e.querySelector(".filter-option");e.querySelector(".filter-btn").id="rank"+(t+1),n.dataset.rank=t+1,n.value=t+1,e.querySelector(".pos").innerHTML=t+1})}if(e){var n=e.parentNode,o=e;e.querySelectorAll(".rankable").forEach(function(e){e.addEventListener("click",function(e){n.prepend(o),t()})}),t()}}function d(e){if(e){var t=e.dataset.href;e.addEventListener("click",function(e){e.preventDefault(),t&&(window.location=t)})}}function m(e){var t=document.querySelectorAll(".filter-btn"),n=!1;e.addEventListener("click",function(e){t.forEach(function(e){if(e.classList.contains("disabled"))return void(e.checked=!1);n?(e.classList.remove("active"),e.nextElementSibling.checked=!1):(e.classList.add("active"),e.nextElementSibling.checked=!0)}),n=!n})}function f(e){var t=document.querySelectorAll(".filter-btn"),n=document.querySelectorAll(".journey-option-btn-img");n.length&&(t=n),e.addEventListener("click",function(n){t.forEach(function(t,n){t.classList.contains("active"),t.classList.remove("active");var o=t.nextElementSibling.nextElementSibling;o&&o.classList.remove("active"),t.nextElementSibling.checked=!1,setTimeout(function(){e.classList.add("active"),e.nextElementSibling.checked=!0},1)})})}function v(e){if(e){var t=window.location,n=t.href.split("?"),o=new URL(t),r=new URLSearchParams(o.search),a=e.dataset.val,i=e.dataset.exclude.split(",");e.parentElement.dataset.val=r.get("sort")?r.get("sort"):"SORT",i.forEach(function(e){r.delete(e)}),e.addEventListener("change",function(e){var t=e.target.value;r.set(a,t),(0,E.trackEvent)({type:"Filter",ev:"Sort content",val:t});var o=r.toString();window.location=n[0]+"?"+o})}}function h(e){if(e&&k.classList.contains("user-logged-in")){(0,A.launchOverlay)("");document.querySelector(".save-session-name").classList.add("show");document.getElementsByName("save-session-name-form")[0].action=e.target.dataset.url}}function y(e){if(e){e.preventDefault();var t=e.target.querySelector('input[name="label"]').value,n=e.target.querySelector("button"),o=n.dataset.url,r={label:t,sessionStartUrl:o};fetch("/api/save-search/save",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){if(null===e||void 0===e.success||!0!==e.success)throw"Invalid response";(0,E.removeButtonLoaders)(n),(0,A.closeOverlay)(),(0,E.showFeedback)(),(0,E.trackEvent)({type:"Journey",ev:"Save",val:"Success"})}).catch(function(e){(0,E.showFeedback)("error"),(0,E.removeButtonLoaders)(n),(0,A.closeOverlay)(),(0,E.trackEvent)({type:"Journey",ev:"Save",val:"Fail"})})}}function g(e){if(e){e.querySelectorAll(".cb-choice").forEach(function(e){e.checked&&(e.dataset.checked="checked")})}}function p(e,t){e.querySelectorAll(".cb-choice").forEach(function(e){t.target.checked?e.dataset.checked&&(e.checked="checked"):e.checked=""})}function b(e){if(e){var t=e.parentNode.parentNode.parentElement,n=t.querySelector(".filter-header .cb-choice"),o=t.querySelectorAll(".filter-opt-types .cb-choice"),r=0;o.forEach(function(e,t){e.checked&&r++}),e.addEventListener("input",function(e){o.forEach(function(e,t){e.checked?r++:r--}),r>0?n.checked="checked":(n.checked="",r=0)})}}function S(e,t){t.forEach(function(t,n){var o=document.createElement("option");o.value=t,o.innerText=t,e.append(o)})}function w(e){e&&setTimeout(function(){(0,E.trackEvent)({type:"Feedback form",ev:"Submission",val:"Success"})},1e3)}function L(e){if(e){var t=new URLSearchParams(window.location.search),n=t.get("min-val"),o=t.get("max-val"),r=t.get("min-month-val"),a=t.get("max-month-val"),i=t.getAll("mobility-options[]"),c=t.getAll("vehicle-types[]"),l=t.getAll("mobility-sub-options[]"),s=t.getAll("vehicle-sub-types[]"),u=t.getAll("vehicle-age[]"),d=t.getAll("vehicle-essentials[]"),m=t.getAll("fuel-types[]"),f=t.get("min-emissions-val"),v=t.get("max-emissions-val"),h=t.get("min-env-val"),y=t.get("max-env-val"),g=t.get("min-distance"),p=t.get("max-distance"),S=t.get("min-mileage"),w=t.get("max-mileage"),L=t.get("min-vehicle-age-val"),E=t.get("max-vehicle-age-val"),A=document.getElementsByName("min-val")[0],k=document.getElementsByName("max-val")[0],q=e.querySelector(".tcu-budget .min"),T=e.querySelector(".tcu-budget .max"),x=document.getElementsByName("min-month-val")[0],C=document.getElementsByName("max-month-val")[0],O=e.querySelector(".monthly-budget .min"),_=e.querySelector(".monthly-budget .max"),B=document.getElementsByName("min-emissions-val")[0],I=document.getElementsByName("max-emissions-val")[0],M=e.querySelector(".emissions-range .min"),N=e.querySelector(".emissions-range .max"),P=document.getElementsByName("min-env-val")[0],D=document.getElementsByName("max-env-val")[0],F=e.querySelector(".env-range .min"),R=e.querySelector(".env-range .max"),j=document.getElementsByName("min-distance")[0],H=document.getElementsByName("max-distance")[0],U=e.querySelector(".distance-range .min"),V=e.querySelector(".distance-range .max"),G=document.getElementsByName("min-mileage")[0],J=document.getElementsByName("max-mileage")[0],Y=e.querySelector(".mileage-range .min"),z=e.querySelector(".mileage-range .max"),W=document.getElementsByName("min-vehicle-age-val")[0],K=document.getElementsByName("max-vehicle-age-val")[0],X=e.querySelector(".vehicle-years .min"),Q=e.querySelector(".vehicle-years .max"),Z=document.querySelectorAll(".cb-choice-mobility"),$=document.querySelectorAll(".cb-choice-vehicle"),ee=document.querySelectorAll(".cb-choice-mobility-sub"),te=document.querySelectorAll(".cb-choice-vehicle-sub"),ne=document.querySelectorAll(".cb-vehicle-age"),oe=document.querySelectorAll(".cb-vehicle-essentials"),re=document.querySelectorAll(".cb-fuel-types");if(i.length){var ae=!0,ie=!1,ce=void 0;try{for(var le,se=Z[Symbol.iterator]();!(ae=(le=se.next()).done);ae=!0){var ue=le.value;b(ue),i.includes(ue.value)?ue.checked="checked":(ue.checked="",ue.nextElementSibling.classList.add("is-filtered"))}}catch(e){ie=!0,ce=e}finally{try{!ae&&se.return&&se.return()}finally{if(ie)throw ce}}}if(c.length){var de=!0,me=!1,fe=void 0;try{for(var ve,he=$[Symbol.iterator]();!(de=(ve=he.next()).done);de=!0){var ye=ve.value;c.includes(ye.value)?ye.checked="checked":(ye.checked="",ye.nextElementSibling.classList.add("is-filtered"))}}catch(e){me=!0,fe=e}finally{try{!de&&he.return&&he.return()}finally{if(me)throw fe}}}if(l.length){var ge=!0,pe=!1,be=void 0;try{for(var Se,we=ee[Symbol.iterator]();!(ge=(Se=we.next()).done);ge=!0){var Le=Se.value;l.includes(Le.value)?Le.checked="checked":(Le.checked="",Le.nextElementSibling.classList.add("is-filtered"))}}catch(e){pe=!0,be=e}finally{try{!ge&&we.return&&we.return()}finally{if(pe)throw be}}}if(s.length){var Ee=!0,Ae=!1,ke=void 0;try{for(var qe,Te=te[Symbol.iterator]();!(Ee=(qe=Te.next()).done);Ee=!0){var xe=qe.value;s.includes(xe.value)?xe.checked="checked":(xe.checked="",xe.nextElementSibling.classList.add("is-filtered"))}}catch(e){Ae=!0,ke=e}finally{try{!Ee&&Te.return&&Te.return()}finally{if(Ae)throw ke}}}if(u.length){var Ce=!0,Oe=!1,_e=void 0;try{for(var Be,Ie=ne[Symbol.iterator]();!(Ce=(Be=Ie.next()).done);Ce=!0){var Me=Be.value;u.includes(Me.value)?Me.checked="checked":(Me.checked="",Me.nextElementSibling.classList.add("is-filtered"))}}catch(e){Oe=!0,_e=e}finally{try{!Ce&&Ie.return&&Ie.return()}finally{if(Oe)throw _e}}}if(d.length){var Ne=!0,Pe=!1,De=void 0;try{for(var Fe,Re=oe[Symbol.iterator]();!(Ne=(Fe=Re.next()).done);Ne=!0){var je=Fe.value;d.includes(je.value)?je.checked="checked":je.checked=""}}catch(e){Pe=!0,De=e}finally{try{!Ne&&Re.return&&Re.return()}finally{if(Pe)throw De}}}if(m.length){var He=!0,Ue=!1,Ve=void 0;try{for(var Ge,Je=re[Symbol.iterator]();!(He=(Ge=Je.next()).done);He=!0){var Ye=Ge.value;m.includes(Ye.value)?Ye.checked="checked":(Ye.checked="",Ye.nextElementSibling.classList.add("is-filtered"))}}catch(e){Ue=!0,Ve=e}finally{try{!He&&Je.return&&Je.return()}finally{if(Ue)throw Ve}}}n&&o&&(A.value=n,k.value=o,q.value="£"+n,T.value="£"+o),r&&a&&(x.value=r,C.value=a,O.value="£"+r,_.value="£"+a),f&&v&&(B.value=f,I.value=v,M.value=f,N.value=v),h&&y&&(P.value=h,D.value=y,F.value=h,R.value=y),g&&p&&(j.value=g,H.value=p,U.value=g,V.value=p),S&&w&&(G.value=S,J.value=w,Y.value=S,z.value=w),L&&E&&(W.value=L,K.value=E,X.value=L,Q.value=E)}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetSelectAll=o,t.toggleSwitch=r,t.toggleCB=a,t.handleRadio=i,t.getRangeVal=c,t.getDoubleRangeVals=l,t.populateFilterText=s,t.makeSortable=u,t.addBackLink=d,t.selectAllToggle=m,t.trumpSelection=f,t.reloadOnFormChange=v,t.saveJourneyName=h,t.saveJourney=y,t.setToggleFilterSubCats=g,t.toggleFilterSubCats=p,t.toggleParentCat=b,t.addSortOptions=S,t.trackFormFeedback=w,t.setFilterVals=L;var E=n(0),A=n(1),k=document.getElementsByTagName("body")[0],q=document.querySelector(".feedback-success"),T="Please answer the question before continuing",x=document.querySelector(".journey");if(x){T=x.classList.value.toString().toLowerCase().includes("multiple")?"Please select one or more of the options before continuing":T}var C=document.querySelector(".karfu-form");C&&C.classList.contains("show-error-overlay")&&(T=C.dataset.errorOverride?C.dataset.error:T,(0,A.launchOverlay)(T,!0));var O=function(e,t){e.querySelector("input").checked=!0,t.forEach(function(e){e.classList.toggle("option__selected")})},_=function(){document.querySelectorAll(".filter-option-rad").forEach(function(e){e.checked=!1,e.previousElementSibling.classList.remove("active")})};w(q);var B=Array.from(document.querySelectorAll(".pull-right")).find(function(e){return"Forgot Password"===e.textContent});B&&(B.title=B.textContent,B.classList.add("forgotten-password"),B.innerHTML="")},function(e,t,n){"use strict";function o(e,t){var n=localStorage.getItem(e);return!(!n||!n.includes(t))}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e);n&&(n=n?n.split(","):[],n.includes(t)||n.push(t),localStorage.setItem(e,n.toString()))}Object.defineProperty(t,"__esModule",{value:!0}),t.checkLocalStorageObj=o,t.setLocalStorageObj=r},function(e,t,n){"use strict";function o(e){var t=document.querySelectorAll(".reading-length");if(e&&t.length){var n=e.innerText,o=n.trim().split(/\s+/).length,r=Math.ceil(o/225),a=1!=r?"mins":"min",i=r+" "+a;t.forEach(function(e){e.innerHTML=i})}}function r(e){if(e){var t=e.querySelector(".progress-bg"),n=e.querySelector(".progress"),o=e.querySelector(".progress-indicator"),r=t.dataset.total,a=t.dataset.progress,i=Math.round(a/r*100);i>=100&&(i=100);var c=i+"%";n.style.width=c,o.innerHTML=c,o.style.left=c}}function a(e){if(e){var t=e.querySelector(".header"),n=e.classList.contains("accordion_comparison"),o=document.querySelectorAll(".accordion");if(!e.querySelector(".content-list").childElementCount)return void t.classList.add("inactive");t.addEventListener("click",function(e){var t=e.target.parentElement,r=e.target.parentElement.classList.contains("vehicle-breakdown-accordion")?"breakdown-open":"open";n?o.forEach(function(e){e.dataset.partner==t.dataset.partner&&e.classList.toggle(r)}):t.classList.toggle(r)})}}function i(){var e=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),t=navigator.userAgent;return!!e.test(t)}function c(e,t,n){if(e){var o=0,r=[];r.push(e.clientHeight),r.sort(),o=r[0]>o?r[0]:o,setTimeout(function(){t===n&&(e.style.height=o+"px")},10),window.addEventListener("resize",s(function(){},200))}}function l(e){if(e){var t=[];t.push(e.clientHeight),t.sort();var n=t[0]>n?t[0]:n;idx===btnCount&&(e.style.height=n+"px")}}function s(e,t){var n=this,o=void 0;return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];var c=n;clearTimeout(o),o=setTimeout(function(){return e.apply(c,a)},t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.calcReadingTime=o,t.shortCutProgress=r,t.accordionHandler=a,t.isBot=i,t.getSetSize=c,t.matchContentHeight=l,t.debounce=s},function(e,t,n){"use strict";function o(e){var t=document.querySelector(".site-container"),n=document.querySelector(".preload-content"),o=n.querySelectorAll("p"),r=o.length,a=document.documentElement;window.scrollTo({top:0,behavior:"smooth"}),t.scroll({top:0,behavior:"smooth"}),setTimeout(function(){a.classList.add("scroll-lock")},10),n.classList.add("visible"),n.innerHTML='<div class="loader-content visible"><p>Loading</p></div>';var i=0,c=setInterval(function(){if(i<=r?i++:i=0,o[i]&&(n.innerHTML='<div class="loader-content visible"><p>'+o[i].textContent+"</p></div>"),1==r&&1==i){var e=o[0].textContent.replace(/\n/g,"<br />");return n.innerHTML='<div class="loader-content visible"><p>'+e+"</p></div>",void clearInterval(c)}},1500)}function r(){var e=document.documentElement,t=document.querySelector(".preload-content");e.classList.remove("scroll-lock"),t.classList.remove("visible")}Object.defineProperty(t,"__esModule",{value:!0}),t.showLoaderContent=o,t.hideLoaderContent=r},function(e,t,n){"use strict";function o(e){if(e){var t=a.find(function(t){return t.code===e}).msg;(0,r.launchOverlay)(t,!0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandler=o;var r=n(1),a=[{code:"e1",msg:"Vehicle not found. Please try again"},{code:"e2",msg:"Error"},{code:"e3",msg:"Something went horribly wrong"},{code:"e4",msg:"Question not found. Please try again"},{code:"e5",msg:"Oh dear - something went wrong whilst processing your results. We're very sorry as we're sure it's frustrating to see an error message.\n\t\t\t<br /><br />Karfu is currently only a prototype and processing your results is a complex task. We have a few challenges to resolve but the team are working tirelessly in the background to do so.\n\t\t\t<br /><br />We'd love you to try again. The two main reasons that results can fail to load are that your answers to the vehicle section are too specific, or you haven't entered a large enough budget.\n\t\t\t<br /><br />We'd recommend making your choices in the vehicle section quite broad to begin with, and then use the Filter to narrow your search."},{code:"e6",msg:"There is an error in the form, please try again."}],i=window.location.search,c=new URLSearchParams(i),l=c.get("error");l&&o(l)},function(e,t,n){"use strict";function o(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady=null,e()},n.parentNode.insertBefore(t,n)}function r(){l===c.IDLE&&(l=c.LOADING,o(function(){l=c.LOADED,s.forEach(function(e){e()}),s=null}))}function a(){u||(u=!0,s&&s.length>0&&r())}function i(e){switch(l){case c.IDLE:case c.LOADING:s.push(e),u&&r();break;case c.LOADED:e()}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadYoutubeApi=a,t.onYoutubeReady=i;var c={IDLE:"IDLE",LOADING:"LOADING",LOADED:"LOADED"},l=c.IDLE,s=[],u=!1},function(e,t,n){"use strict";var o=n(0),r=n(11),a=n(12),i=n(4),c=n(3),l=n(8),s=n(2),u=n(13),d=n(14),m=n(15),f=n(7),v=n(16),h=n(1),y=(n(5),n(17)),g=n(18),p=n(20),b=n(6),S=n(21);(0,S.tempNav)();var w=document.getElementsByTagName("body")[0];w.dataset.hasOwnProperty("error")&&(0,l.errorHandler)(w.dataset.error),Array.from||(Array.from=function(e){return Array.prototype.slice.call(e)}),window.onpageshow=function(e){e.persisted&&window.location.reload()},setTimeout(function(){var e=document.querySelector(".popup-help-content"),t=document.querySelector(".overlay-content"),n=t.querySelector(".error-msg");e&&!n.classList.contains("show")&&w.classList.contains("user-logged-in")&&e.textContent&&(0,h.launchOverlayOnLoad)(e.innerHTML,!1,window.location)},750);var L=document.querySelector(".logo-container");(0,r.addLogo)(L);var E=document.querySelector(".burger");(0,a.addMenuButton)(E),Array.from(document.querySelectorAll(".carousel")).forEach(g.addCarousel);var A=document.querySelectorAll(".header-roundabout"),k=["#2BD95C","#E3E3E3"];setTimeout(function(){A.forEach(function(e,t){(0,o.drawRoundabout)(e,k[t])})},800);var q=document.querySelector(".animated-roundabout");new IntersectionObserver(function(e,t){e[0].intersectionRatio>0&&(0,o.drawRoundabout)(q,"#edfcf1")}).observe(q),document.addEventListener("touchend",o.clampFilterSort,!1),document.addEventListener("scroll",o.clampFilterSort,!1),Array.from(document.querySelectorAll(".login-form .btn-primary")).forEach(function(e){(0,o.injectKarfuButtonOpts)(e)}),Array.from(document.querySelectorAll(".data-call-btn")).forEach(function(e){(0,o.showDataLoaderOnClick)(e),(0,o.removeButtonLoaders)(e)}),Array.from(document.querySelectorAll(".content-has-tip")).forEach(function(e){var t=decodeURI(e.dataset.info);t||e.classList.remove("has-info-icon"),e.addEventListener("click",function(e){e.preventDefault(),!e.target.classList.contains("has-link")&&t&&(0,h.launchOverlay)(t)})}),Array.from(document.querySelectorAll(".mobility-toggle")).forEach(function(e){(0,i.toggleSwitch)(e)}),Array.from(document.querySelectorAll(".slider")).forEach(function(e){(0,i.getRangeVal)(e)});document.querySelectorAll(".share-location .icon").forEach(function(e){e.addEventListener("click",function(e){document.body.classList.add("waiting-for-content"),(0,o.getPostcodeFromLocation)(e)})});document.querySelectorAll(".score-holder").forEach(function(e){var t=(0,v.addScore)();t.makeSVG(e,"score",parseInt(e.dataset.target)),t.displayInView(e)});var T=(document.querySelectorAll(".back-btn").forEach(function(e){e.addEventListener("click",function(e){(0,o.goBack)(e)})}),document.querySelector(".search-paths"));(0,i.populateFilterText)(T),Array.from(document.querySelectorAll(".filter-option-cb")).forEach(function(e){(0,i.toggleCB)(e)}),Array.from(document.querySelectorAll(".filter-option-rad")).forEach(function(e){(0,i.handleRadio)(e)}),Array.from(document.querySelectorAll(".option-rankable")).forEach(function(e){(0,i.makeSortable)(e)}),Array.from(document.querySelectorAll(".back-step")).forEach(function(e){(0,i.addBackLink)(e)}),Array.from(document.querySelectorAll(".accordion, .vehicle-breakdown-accordion")).forEach(function(e){(0,b.accordionHandler)(e)}),Array.from(document.querySelectorAll(".trump")).forEach(function(e){(0,i.trumpSelection)(e)}),Array.from(document.querySelectorAll(".filter-select-all")).forEach(function(e){(0,i.selectAllToggle)(e)}),Array.from(document.querySelectorAll(".journey-detail .delete")).forEach(function(e){(0,o.deleteJourney)(e)}),Array.from(document.querySelectorAll(".hidden-summary-option")).forEach(function(e){(0,o.hideFromSummary)(e)}),Array.from(document.querySelectorAll(".filter-on-change")).forEach(function(e){(0,i.reloadOnFormChange)(e)}),Array.from(document.querySelectorAll(".action-btn")).forEach(function(e){(0,o.getActionBtnLink)(e)}),Array.from(document.querySelectorAll(".accordion-item")).forEach(function(e){(0,o.removeEmptyAccordionRows)(e)}),Array.from(document.querySelectorAll(".vehicle-header")).forEach(function(e){}),Array.from(document.querySelectorAll(".trump")).forEach(function(e){e.addEventListener("click",function(){(0,o.skipForm)()})}),Array.from(document.querySelectorAll(".delete-option, .delete-all-options")).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("href"),r=e.dataset.prompt;(0,o.confirmDelete)(n,r)})});var x=(document.querySelectorAll(".filter-cats").forEach(function(e){var t=e;e.querySelector("input").addEventListener("input",function(e){(0,i.toggleFilterSubCats)(t,e)})}),document.querySelectorAll(".filter-cats").forEach(function(e){setTimeout(function(){(0,i.setToggleFilterSubCats)(e)},100)}),document.querySelectorAll(".cb-choice-vehicle-sub, .cb-choice-mobility-sub").forEach(function(e){(0,i.toggleParentCat)(e)}),document.querySelector(".save-journey"));x&&x.addEventListener("click",function(e){(0,i.saveJourneyName)(e)});var C=document.querySelector('form[name="save-session-name-form"]');C&&C.addEventListener("submit",function(e){(0,i.saveJourney)(e)});var O=document.querySelector(".process-results");O&&O.addEventListener("click",function(e){(0,c.processResults)(e)}),document.querySelector(".no-journey-result")&&setTimeout(function(){(0,o.trackNoResults)()},500);var _=document.querySelectorAll(".journey-option-btn"),B=_.length;_.forEach(function(e,t){(0,b.getSetSize)(e,t,B)}),Array.from(document.querySelectorAll(".journey-option-btn, .back-next button, .link-option a button, .summary-buttons button, .summary-next-prev-buttons button, .journey-btns button, .next-prev-buttons .usage-button, .section-item .description, .news-list-item .description")).forEach(function(e){(0,b.getSetSize)(e)}),setTimeout(function(){Array.from(document.querySelectorAll(".link-option .link-text")).forEach(function(e){(0,b.getSetSize)(e)})},500);document.querySelectorAll(".homepage-link-option").forEach(function(e){var t=e.dataset.helpText;e.getAttribute("href")||(e.firstChild.nextElementSibling.classList.add("disabled"),e.addEventListener("click",function(n){n.preventDefault(),(0,h.launchOverlay)(t),e.querySelector("button").classList.remove("show-loader")}))});Array.from(document.querySelectorAll(".budget-range, .budget-range-monthly")).forEach(function(e){(0,i.getDoubleRangeVals)(e)}),Array.from(document.querySelectorAll(".forum-icon")).forEach(function(e){(0,S.launchForum)(e)}),Array.from(document.querySelectorAll(".animate-to-val")).forEach(function(e){setTimeout(function(){(0,o.animateToValue)(e)},1e3)});var I=document.getElementById("rosette");I&&(0,o.animateSVGText)(I);document.querySelectorAll(".seller-detail-btn").forEach(function(e){e.addEventListener("click",function(e){var t=e.target.dataset.dealer,n=e.target.dataset.website,r=e.target.dataset.phone.replace(/\W/g,""),a=e.target.dataset.address.replace(/,/g,"<br />"),i=e.target.dataset.moreInfo,c=window.location,l=new URLSearchParams(c.search),u=l.get("ID");(0,o.trackEvent)({type:"Enquiry",ev:"Display Car Dealerhip",val:t}),(0,h.launchOverlay)((0,s.renderSellerDetails)(t,n,r,a,i,c,u))})}),document.querySelectorAll(".alternative-seller-detail-btn").forEach(function(e){e.addEventListener("click",function(e){var t=e.target.dataset.manufacturer,n=e.target.dataset.dealer,r=e.target.dataset.product,a=e.target.dataset.range,i=e.target.dataset.trim;(0,o.trackEvent)({type:"Enquiry",ev:"Display Alternative Dealer",val:t}),(0,h.launchOverlay)((0,s.renderAlternativeSellerDetails)(t,n,r,a,i))})});Array.from(document.querySelectorAll(".why-table")).forEach(function(e){(0,o.tableToggle)(e)}),Array.from(document.querySelectorAll(".breakdown-content-toggle")).forEach(function(e){(0,o.toggleBreakDownOpts)(e)}),Array.from(document.querySelectorAll(".carbon-meter")).forEach(function(e){(0,o.setEnvironmentRange)(e)}),Array.from(document.querySelectorAll(".pollutant-chart")).forEach(function(e){(0,o.setPollutantChartRange)(e)}),window.addEventListener("load",function(){(0,o.pushFooterToContentHeight)(document.querySelector(".final-results"))}),window.addEventListener("resize",function(){(0,o.pushFooterToContentHeight)(document.querySelector(".final-results"))});var M=document.querySelector(".show-loader-content");M&&M.addEventListener("click",function(e){(0,f.showLoaderContent)(e.target.parentElement.getAttribute("href")),(0,o.showLoader)()});var N=document.querySelector(".toggle-footer");N&&N.addEventListener("click",function(){(0,o.toggleFooter)()}),document.querySelector(".fetch-dynamic-score")&&(0,c.generateScores)(),Array.from(document.querySelectorAll(".image-copyright")).forEach(function(e){var t=e.dataset.imageCopyright;t&&(0,y.imageCopyright)(e,t)}),Array.from(document.querySelectorAll(".expand-on-click")).forEach(function(e){e.addEventListener("click",function(e){(0,o.expandTable)(e)})});var P=(document.querySelectorAll(".chart-toggle").forEach(function(e){e.addEventListener("click",function(t){(0,o.toggleChartDisplay)(e)})}),document.querySelector(".short-cut-progress"));(0,b.shortCutProgress)(P);var D=document.querySelector(".editorial-content");(0,b.calcReadingTime)(D);var F=document.querySelector(".filter-content form");(0,i.setFilterVals)(F);var R=document.getElementById("mc-embedded-subscribe-form");(0,p.mailChimpSignUp)(R),setTimeout(function(){var e=document.querySelector(".ccm-conversation-message-count");(0,o.updateCommentMsg)(e)},1500),(0,u.share)(),(0,d.shortlist)(),(0,m.openHelp)(),(0,o.reveal)()},function(e,t,n){"use strict";function o(e){if(e){[{id:"yellow_loop",animation_paths:[".yellow_path_1",".yellow_path_2",".yellow_path_3"]},{id:"yellow_drop",animation_paths:[".yellow_drop_1",".yellow_drop_2"]},{id:"white_path",animation_paths:[".white_path_1",".white_chevron"]},{id:"blue_top",animation_paths:[".blue_top_1",".blue_top_2"]},{id:"blue_loop",animation_paths:[".blue_loop_1",".blue_loop_2",".blue_loop_3"]}].forEach(function(e,t){e.animation_paths.forEach(function(e,t){setTimeout(function(){document.querySelector(""+e).classList.add("show")},1800*t)})}),setTimeout(function(){document.getElementById("karfu").classList.add("show")},1800)}}Object.defineProperty(t,"__esModule",{value:!0}),t.addLogo=o},function(e,t,n){"use strict";function o(e){if(e){var t=(document.body,document.getElementsByTagName("header")[0]),n=document.getElementsByTagName("nav")[0],o=document.getElementsByTagName("main")[0],r=document.querySelector(".site-logo"),a=n.querySelectorAll("li"),i=!1,c=[],l=0;window.onload=function(){c.push(r.contentDocument.getElementById("Fill-1")),r.contentDocument.querySelectorAll("path").forEach(function(e,t){c.push(e)})},e.addEventListener("click",function(){e.classList.toggle("menu-open"),t.classList.toggle("menu-open"),o.classList.toggle("menu-open"),n.classList.toggle("open"),i=!0!==i,c.reverse(),c.forEach(function(e,t){setTimeout(function(){e.style.transition="fill .5s",e.style.fill=i?"#2BD95C":"#fff"},90*(t+1))}),a.forEach(function(e,t){e.classList.contains("hide-from-desktop");setTimeout(function(){e.classList.toggle("show")},t)}),i?(l=document.documentElement.scrollTop,setTimeout(function(){document.documentElement.scrollTop=0},200)):document.documentElement.scrollTop=l})}}Object.defineProperty(t,"__esModule",{value:!0}),t.addMenuButton=o},function(e,t,n){"use strict";function o(){if(document.querySelector(".share-button")&&navigator.share){var e=document.querySelector(".share-button");e.classList.add("show"),e.addEventListener("click",function(){navigator.share({title:pageTitle,text:pageDescription,url:window.location.href}).then(function(){(0,r.showFeedback)()}).catch(function(e){(0,r.showFeedback)("error")})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.share=o;var r=n(0)},function(e,t,n){"use strict";function o(){var e=document.querySelector(".add-to-shortlist");e&&e.addEventListener("click",function(e){var t=e.target,n=t.dataset.vehicleid,o=t.dataset.mobilitychoice,a=t.dataset.mobilitychoicetype;if(void 0!==n&&void 0!==o&&void 0!==a){var i={vehicleId:n,mobilityChoice:o,mobilityChoiceType:a},c=new XMLHttpRequest;c.responseType="json",c.onreadystatechange=function(){if(200===c.status&&4===c.readyState){var t=c.response;null!==t&&void 0!==t.success&&!0===t.success?(e.target.removeAttribute("data-vehicleid"),e.target.removeAttribute("data-mobilitychoice"),e.target.removeAttribute("data-mobilitychoicetype"),e.target.classList.add("selected"),e.target.innerHTML="<span>SHORTLISTED</span><br /><br />",(0,r.trackEvent)({type:"Shortlist",ev:"Option saved",val:n+" : "+o+" : "+a}),(0,r.showFeedback)()):(0,r.showFeedback)("error")}},c.open("POST","/api/shortlist/add",!0),c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify(i))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.shortlist=o;var r=n(0)},function(e,t,n){"use strict";function o(){var e=window.location.hash.replace("#",""),t=document.getElementById(e);t&&t.classList.add("open")}function r(e,t){alert(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.openHelp=o,t.openHelpOnLoad=r},function(e,t,n){"use strict";function o(){var e=function(e,t){var n=3.6*t,o=50*Math.PI*(360-n)/180;setTimeout(function(){e.style.strokeDashoffset=o},500)};return{makeSVG:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","28"),o.setAttribute("height","28"),o.setAttribute("viewBox","0 0 120 120"),o.setAttribute("class","score-animation"),o.setAttribute("id",t),o.setAttribute("data-val",n),e.appendChild(o);var r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx","60"),r.setAttribute("cy","60"),r.setAttribute("r","50"),r.setAttribute("fill","none"),r.setAttribute("stroke","#fff"),r.setAttribute("stroke-width","19"),r.setAttribute("transform","rotate(-90 60 60)"),o.appendChild(r);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx","60"),a.setAttribute("cy","60"),a.setAttribute("r","50"),a.setAttribute("fill","none"),a.setAttribute("stroke","#999"),a.setAttribute("stroke-width","15"),a.setAttribute("class","bg-circle"),o.appendChild(a);var i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("id","c-cap"),i.setAttribute("class","score-arc-cap"),i.setAttribute("cx","60"),i.setAttribute("cy","60"),i.setAttribute("r","50"),i.setAttribute("fill","none"),i.setAttribute("stroke","#60E385"),i.setAttribute("stroke-width","15"),i.setAttribute("dash-offset","0"),i.setAttribute("dash-array","0"),i.setAttribute("transform","rotate(-90 60 60)"),o.appendChild(i);var c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("id","c"),c.setAttribute("class","score-arc"),c.setAttribute("cx","60"),c.setAttribute("cy","60"),c.setAttribute("r","50"),c.setAttribute("fill","none"),c.setAttribute("stroke","#004313"),c.setAttribute("stroke-width","15"),c.setAttribute("dash-offset","0"),c.setAttribute("dash-array","0"),c.setAttribute("transform","rotate(-90 60 60)"),o.appendChild(c);var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x","50%"),l.setAttribute("y","55%"),l.setAttribute("fill","none"),l.setAttribute("class","score-val"),l.setAttribute("fill","#004313"),l.setAttribute("text-anchor","middle"),l.textContent=n+"%",o.appendChild(l)},displayInView:function(t){new IntersectionObserver(function(n,o){if(n[0].intersectionRatio>0){var r=t.querySelector(".score-animation"),a=r.childNodes[2];e(a,parseInt(t.dataset.maxVal));var i=r.childNodes[3];setTimeout(function(){e(i,parseInt(t.dataset.target))},500)}}).observe(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.addScore=o},function(e,t,n){"use strict";function o(e,t){var n=document.createElement("div");n.className="image-watermark",n.innerText=t,e.parentElement.append(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.imageCopyright=o},function(e,t,n){"use strict";function o(e,t,n){if(!t.videoId)return void n();var o=e.querySelector(".carousel-item-image"),r=e.querySelector(".carousel-item-play-button"),a=e.querySelector(".youtube-iframe"),c=!0;o.classList.add("is-over-video"),(0,i.onYoutubeReady)(function(){t.stateData=new YT.Player(a,{videoId:t.videoId,playerVars:{controls:0,modestbranding:1,rel:0,showinfo:0},events:{onReady:function(){r.classList.add("is-visible"),n()},onStateChange:function(e){c&&(c=!1,o.classList.remove("is-over-video"),r.classList.remove("is-visible"))}}})})}function r(e,t,n){if(!e||!t.videoId||!t.stateData)return void n();t.stateData.destroy(),t.stateData=null,setTimeout(n,300)}function a(e){var t=e.querySelector(".carousel-buttons"),n=t.querySelector(".carousel-button-wrapper");if(0!==n.children.length){var a=e.querySelector(".carousel-container-items"),i=e.querySelector(".carousel-arrow--left"),s=e.querySelector(".carousel-arrow--right"),u=e.querySelector(".item-descriptions"),d=n.children[0],m=d.clientWidth+parseInt(window.getComputedStyle(d).getPropertyValue("margin-right")),f=Array.from(a.children).map(function(e){return{stateData:null,videoId:e.getAttribute("data-video-id")}}),v=a.children.length-1,h=-1,y=function(e){var t=h;h=(0,l.withinRange)(e,0,v),t>=0&&(n.children[t].classList.remove("is-active"),n.children[t].classList.remove("is-selected"),a.children[t].classList.add("is-hidden")),r(a.children[t],f[t],function(){n.children[h].classList.add("is-active"),a.children[h].classList.remove("is-hidden"),n.style.transform="translate3d("+h*-m+"px, 0, 0)",a.style.transform="translate3d("+-100*h+"%, 0, 0)",u.style.transform="translate3d("+-100*h+"%, 0, 0)",a.addEventListener("transitionend",function e(){a.removeEventListener("transitionend",e),setTimeout(function(){o(a.children[h],f[h],function(){n.children[h].classList.add("is-selected")})},300)})})},g=function(){y(0===h?v:h-1)},p=function(){y(h===v?0:h+1)};i.addEventListener("click",g),s.addEventListener("click",p),(0,c.addSwipeListener)(e,function(e){e<0?g():p()}),n.addEventListener("click",function(e){var t=Array.prototype.indexOf.call(n.children,e.target);t>=0&&t!==h&&y(t)}),e.classList.add("is-ready"),setTimeout(function(){y(0)},500)}}Object.defineProperty(t,"__esModule",{value:!0}),t.addCarousel=a;var i=n(9),c=n(19),l=n(0)},function(e,t,n){"use strict";function o(e,t){var n=0;e.addEventListener("touchstart",function(e){n=e.touches[0].pageX}),e.addEventListener("touchmove",function(e){if(null!==n){var o=e.touches[0].pageX,a=o-n;(a<-r||a>r)&&t(-a),n=null}})}Object.defineProperty(t,"__esModule",{value:!0}),t.addSwipeListener=o;var r=10},function(e,t,n){"use strict";function o(e){return}Object.defineProperty(t,"__esModule",{value:!0}),t.mailChimpSignUp=o},function(e,t,n){"use strict";function o(){i.forEach(function(e,t){e.querySelectorAll("a").forEach(function(e,t){e.classList.contains("hidden")&&e.closest(".desktop-sub-menu").classList.add("hidden")})}),i.forEach(function(e,t){var n=e.closest(".nav-has-drop-down");if(n){var o=n.querySelector("a");e.addEventListener("mouseover",function(e){o.classList.add("nav-selected")}),e.addEventListener("mouseout",function(e){o.classList.remove("nav-selected")})}}),a(window,function(){i.forEach(function(e,t){e.classList.remove("hide")})})}function r(e){e.addEventListener("click",function(){window.location="/forum"})}function a(e,t,n){var o=null,r=function(){o&&(i.forEach(function(e,t){e.classList.add("hide")}),clearTimeout(o)),o=setTimeout(t,n||200)};return e.addEventListener("scroll",r),function(){e.removeEventListener("scroll",r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.tempNav=o,t.launchForum=r,t.hideNavOnScroll=a;var i=document.querySelectorAll(".desktop-sub-menu");document.getElementsByTagName("main")[0];document.addEventListener("scroll",function(){i.forEach(function(e,t){})})}]);